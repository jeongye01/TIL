## 1. 개념

- **서버리스 대화형 쿼리 서비스**
- S3에 저장된 데이터를 **표준 SQL**로 바로 분석할 수 있음
- Presto 엔진 기반으로 동작
- csv,json, orc, avro, parquet 등 다양한 형식을 지원
- 관계형 데이터 베이스, 비관계형 데이터 베이스, 사용자 지정 데이터 원본 쿼리 가능
- Federated Query + Lambda 커넥터를 쓰면 RDS, Redshift, 온프레미스 DB, NoSQL 등도 쿼리 가능
- **서버나 데이터베이스를 따로 운영할 필요 없음** → 완전 관리형

👉 즉, **“S3에 있는 파일을 데이터베이스처럼 SQL로 조회할 수 있게 해주는 서비스”**

---

## 2. 동작 예시

1. S3에 데이터 저장 (CSV, JSON, Parquet, ORC 등)
2. Glue Crawler가 스키마를 추출 → Glue Data Catalog에 테이블 생성
3. Athena는 Glue Catalog를 메타데이터로 활용 → SQL 쿼리 실행
4. 쿼리 결과는 임시로 S3 버킷에 저장

---

## 3. 특징

- **서버리스** → 인프라 관리 필요 없음
- **비용** → 쿼리 스캔한 데이터 양(1TB당 $5) 기준 과금
    - Parquet/ORC 같은 컬럼형 포맷을 쓰면 비용 크게 절감
    - 데이터  세트를 분할 저장
    - 작은 파일이 수천 개보다 **128MB~1GB 정도의 큰 파일로 파티셔닝**하는 게 성능상 유리
- **호환성** → 표준 SQL (Presto 기반) 사용
- **확장성** → 테라바이트급 데이터도 바로 쿼리 가능

---

## 4. 사용 예시

- 로그 분석 (VPC 흐름 로그, 로드 밸런서 로그, CloudTrail 추적 등)
- Data Lake 쿼리 (S3에 적재된 원본 데이터를 바로 분석)
- Glue와 연계해서 스키마 관리 + Athena로 분석
- Redshift나 BI 도구(Tableau, QuickSight)와 연결

---
