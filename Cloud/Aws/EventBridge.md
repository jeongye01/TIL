## 📌 EventBridge란?

- AWS에서 제공하는 **서버리스 이벤트 버스(event bus) 서비스**
- AWS 서비스, SaaS 앱, 사용자 애플리케이션에서 발생한 **이벤트를 중앙 버스로 수집하고 규칙 기반으로 다른 서비스에 전달**
- JSON 문서로 대상 이벤트 정의

---

## 📌 핵심 개념

- **이벤트(Event)**: 상태 변화나 액션 (예: S3에 파일 업로드, EC2 종료)
- **이벤트 버스(Event Bus)**: 이벤트를 모으고 전달하는 중앙 통로
- **규칙(Rule)**: 이벤트 패턴 정의 → 매칭되는 이벤트만 특정 대상으로 라우팅
- **대상(Target)**: 이벤트를 받아 동작하는 AWS 리소스 (Lambda, Step Functions, SNS 등)

---

## 📌 Event Archive

- EventBridge는 **Event Replay** 기능을 제공
- 이벤트 버스에 들어온 이벤트를 **자동으로 아카이빙** 가능
- 저장한 이벤트를 나중에 **재생(Replay)** 해서 동일한 소비자(Target)에게 다시 전달 가능
- 디버깅 유용 (ex. Lambda 함수의 버그를 수정하고 이벤트를 다시 발생 시켜 테스트 가능)

## 📌 **Schema Registry**

- EventBridge는 **이벤트 버스(Event Bus)** 로 들어오는 이벤트를 분석해서, **자동으로 스키마 추론** 가능
- 추론된 스키마를 **스키마 레지스트리(Schema Registry)** 에 저장
- 개발자는 이 스키마를 기반으로 **코드 바인딩(Code Binding)** 을 생성해서, 타입 안전한 코드를 작성할 수 있음 (Java, Python, TypeScript 등)
- 스키마 버전 관리도 지원 → 이벤트 구조가 바뀌어도 버전별로 추적 가능

**장점**

1. **데이터 구조를 미리 알 수 있음**
    
    → 이벤트 소비자가 “어떤 필드가 들어올지” 예측 가능
    
2. **자동 코드 생성**
    
    → 수동으로 DTO(class) 안 짜도 됨
    
3. **호환성 관리**
    
    → 이벤트 구조 변경 시 버전별로 추적 가능
    
4. **반복 활용 가능**
    
    → 다른 애플리케이션에서 동일 스키마 재사용
    
- **검증**
    - Producer가 이벤트 발행 시 레지스트리에 등록된 스키마와 맞는지 체크
    - Consumer도 메시지 읽을 때 스키마 기반으로 안전하게 역직렬화
- **호환성 보장**
    - 예: “새 필드 추가는 허용하지만 기존 필드 삭제는 금지” 같은 정책 적용 가능

---

## 📌 리소스 기반 정책(Resource-based policy)

- EventBridge **이벤트 버스(Event Bus)** 는 계정마다 따로 있음
- 보통은 **내 계정 안에서만 이벤트를 주고받을 수 있음**
- 그런데 **리소스 기반 정책(Resource-based policy)** 을 설정하면, **다른 계정/리전에서 내 이벤트 버스로 이벤트를 보낼 수 있게 허용**할 수 있음

---

## 📌 주요 활용 사례

1. **S3 업로드 → Lambda 자동 실행**
    - S3에 새로운 파일 업로드 → EventBridge → Lambda → 데이터 처리
2. **스케줄링 (Cron 대체)**
    - Cron 표현식으로 특정 시간에 이벤트 발생
    - 예: 매일 9시에 Lambda 실행
3. **서비스 간 통합**
    - CloudWatch 알람, EC2 상태 변화, CodePipeline 이벤트 등을 자동으로 처리
4. **SaaS 연동**
    - Shopify, Zendesk 같은 SaaS 앱의 이벤트를 받아 AWS 워크플로우에 연결

---

## 📌 요약

- EventBridge = **이벤트 기반 아키텍처**를 구축하기 위한 서버리스 이벤트 라우터
- 이벤트를 규칙 기반으로 필터링하고, 다양한 AWS 서비스로 전달 가능
- **자동화 + 확장성 + 서버리스**

---
