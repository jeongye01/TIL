![image](https://github.com/jeongye01/TIL/assets/74299317/62f22f34-09e6-48b5-8299-5c30fb32ead8)


데이터 베이스 아키텍쳐 = 프로세스 + 공유메모리(Shared Memory) 영역 + 디스크(물리적 파일)영역

![image](https://github.com/jeongye01/TIL/assets/74299317/e1ca6415-d415-428d-b43e-b692eb0385db)


# Process vs Thread

### 프로세스

- 운영체제에서 실행 중인 프로그램의 인스턴스
- 각 프로세스는 독립적인 메모리 공간을 가지며,  다른 프로세스의 메모리에 직접 접근할 수 없음.프로세스는 서로의 작업에 영향을 미치지 않고 독립적으로 실행될 수 있음
- 프로세스 간에는 통신이 필요할 때 IPC 메커니즘을 사용
- 새로운 프로세스를 생성하려면 비용이 높으며, 메모리를 많이 사용한다

### 스레드

- 프로세스 내에서 실행되는 실행 단위. 즉, 하나의 프로세스 내에서 여러 개의 스레드가 실행될 수 있음.
- 프로세스의 자원을 공유함. 즉, 스레드는 같은 프로세스의 다른 스레드가 사용하는 메모리에 직접 접근할 수 있음.
- 스레드 간의 통신은 보다 간단하며, 프로세스 간 통신보다 더 빠르고 효율적임
- 공유 메모리로 인해 스레드 간의 동기화와 경쟁 조건에 대한 주의가 필요함.

# Server Process & Background Process

오라클은 Multi-Process 구조로 구성되어 있다. 

오라클의 프로세스들은 크게 두 개로 분류 될 수 있다.

- 서버 프로세스(Foreground Process)
    - SQL문을 처리하는 프로세스
    - 사용자 요청을 처리하는 세션을 담당하는 프로세스
    - Client의 연결을 맺고 있는 프로세스
- 백그라운드 프로세스
    - 주로 서버 프로세스를 지원하는 프로세스
    - DBMS 운영을 위한 internal task들을 수행하는 프로세스

![image](https://github.com/jeongye01/TIL/assets/74299317/c9b7aef6-326a-4672-9f6d-bead335785ae)


### 일부 백그라운드 프로세스

- DBWR(DataBase WRiter): 데이터를 디스크에 기록함
- LGWR(Log WRiter):로그(데이터 변경 이력)을 디스크에 기록함
- PMON(Process OMNitor) : 프로세스를 감시하고, 프로세스에 장애(비정상 종료 등)를 발견했을 때, 정리하는 역할을 함
- ARCH(ARCHiver) : 로그 데이터를 아카이브(장기 보관하기 위해 별도의 파일로 보관)함.

### 서버 프로세스 수행 흐름

1. SQL문의 수신
2. SQL문 파싱 
3. 데이터 읽기(디스크에서 읽어온다)
4. 데이터 기록(디스크에 기록(DBWR이 처리)한다)
5. SQL문의 결과 회신
6. 로그 기록(데이터의 변경 로그를 디스크에 기록)
7. 각종 정리(프로세스의 비정상 종료로 인한 아무도 사용하지 않는 Lock의 해제 등)
8. 로그 보관(아카이브)
