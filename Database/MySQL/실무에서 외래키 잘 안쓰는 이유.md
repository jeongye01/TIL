### 실무에서 외래키를 잘 안 쓰는 이유

**1. 대규모 서비스의 성능 이슈**

- 외래키는 INSERT/UPDATE/DELETE 때마다 **참조 무결성 검사** 수행
- 테이블이 크거나 트래픽이 많으면 DB 부하 증가
- 특히 **샤딩(sharding) 환경**에서는 FK가 DB 간에 걸 수 없어 무용지물

 **2. 마이그레이션 & 배포 유연성**

- FK 걸려 있으면 테이블 삭제/수정할 때 제약 걸림
- DB 스키마 변경 속도가 느려지고, 배포 시 장애 위험 증가

**3. 애플리케이션 레벨에서 무결성 관리 선호**

- 대규모 서비스는 DB를 **단순한 저장소**로 쓰고,
    
    무결성은 애플리케이션 로직에서 관리
    
- 예: “주문 시 존재하지 않는 고객 ID일 경우” → DB FK 대신 백엔드에서 사전 검증

**4. 마이크로서비스 구조와의 충돌**

- 여러 서비스가 서로 다른 DB를 가질 때는 FK 불가능
- 서비스 간 연계 무결성은 애플리케이션 레벨에서만 보장

### 실무적 절충안

1. **개발/테스트 환경**
    - FK를 켜서 무결성 문제 빨리 잡기
2. **운영 환경(대규모)**
    - FK는 끄고,(foregine_key_cheks 시스템 면수를 OFF 로 설정하면 외래 키 관계에 대한 체크 작업을 일시적으로 멈출 수 있다.)
    - 백엔드 로직 + 정기적인 데이터 무결성 검증 스크립트 사용
