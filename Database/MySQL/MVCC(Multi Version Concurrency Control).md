## MVCC (Multi-Version Concurrency Control)

**여러 트랜잭션이 동시에 데이터에 접근할 때, 일관성과 동시성을 보장하기 위한 방식.**

**InnoDB**는 **Undo Log**를 활용해 이 기능을 구현합니다.

---

### MVCC의 핵심 목적

- **잠금을 사용하지 않고도 일관된 읽기(consistent read)** 를 제공함
- 트랜잭션마다 **"자신만의 시점(snapshot)"을 기준으로 데이터 조회**
- 성능과 정합성을 동시에 추구

---

### 멀티버전이란?

- **하나의 레코드가 여러 트랜잭션 시점에 따라 다양한 버전으로 존재**하는 것
- 이들 버전은 Undo Log를 통해 관리되며, 트랜잭션의 스냅샷 기준으로 접근됨

---

## InnoDB의 MVCC 동작 방식

| 격리 수준 | 조회 시 사용하는 데이터 |
| --- | --- |
| **READ UNCOMMITTED** | 변경 중인 **현재 버퍼 풀의 최신값** (커밋 안 된 값도 볼 수 있음 → dirty read 가능) |
| **READ COMMITTED 이상** | **Undo Log**에 저장된 과거 버전을 참조해서, 트랜잭션 시작 시점에 맞는 데이터 반환 |
